(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[371],{3720:function(e,t,r){Promise.resolve().then(r.bind(r,8344))},9763:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,a.forwardRef)((r,o)=>{let{color:n="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:u="",children:m,...h}=r;return(0,a.createElement)("svg",{ref:o,...s,width:i,height:i,stroke:n,strokeWidth:c?24*Number(d)/Number(i):d,className:["lucide","lucide-".concat(l(e)),u].join(" "),...h},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},2660:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3581:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},2489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(2972),s=r.n(a)},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},8344:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var a=r(7437),s=r(2265),l=r(2660),o=r(9763);let n=(0,o.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var i=r(3581),d=r(2489);let c=(0,o.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var u=r(7648),m=r(9376);function h(){let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)({title:"",description:"",category:"Welcome Events",date:"",photographer:"",tags:""}),[h,g]=(0,s.useState)(!1),x=(0,m.useRouter)(),p=e=>{t(t=>t.filter((t,r)=>r!==e))},b=async t=>{if(t.preventDefault(),0===e.length){alert("Please select at least one photo to upload");return}g(!0);try{let t={...r,images:e.map((e,t)=>({id:t+1,url:URL.createObjectURL(e),thumbnail:URL.createObjectURL(e),alt:"".concat(r.title," - Image ").concat(t+1),caption:"Photo from ".concat(r.title)}))};(await fetch("/api/gallery",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?(alert("Successfully uploaded ".concat(e.length," photos!")),localStorage.setItem("admin-data-updated",Date.now().toString()),window.dispatchEvent(new CustomEvent("admin-data-updated")),x.push("/admin")):alert("Failed to upload photos")}catch(e){console.error("Error uploading photos:",e),alert("Error uploading photos")}finally{g(!1)}},f=e=>{o({...r,[e.target.name]:e.target.value})};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"flex items-center justify-between py-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(u.default,{href:"/admin",className:"text-gray-600 hover:text-gray-900 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:(0,a.jsx)(l.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Upload Photos"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Add new photos to the gallery"})]})]})})})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("form",{onSubmit:b,className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[(0,a.jsx)(n,{className:"w-5 h-5 mr-2"}),"Select Photos"]}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors relative",children:[(0,a.jsx)(i.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"Drop photos here or click to browse"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Support for JPG, PNG, GIF up to 10MB each"})]}),(0,a.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{if(e.target.files){let r=Array.from(e.target.files);t(e=>[...e,...r])}},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]}),e.length>0&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:["Selected Photos (",e.length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:(0,a.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"w-full h-full object-cover"})}),(0,a.jsx)("button",{type:"button",onClick:()=>p(t),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(d.Z,{className:"w-4 h-4"})}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1 truncate",children:e.name})]},t))})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[(0,a.jsx)(c,{className:"w-5 h-5 mr-2"}),"Photo Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Album Title *"}),(0,a.jsx)("input",{type:"text",id:"title",name:"title",required:!0,value:r.title,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Spring Welcome Banquet 2024"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,a.jsx)("textarea",{id:"description",name:"description",rows:3,value:r.description,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the event or occasion..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,a.jsx)("select",{id:"category",name:"category",required:!0,value:r.category,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:["Welcome Events","Bible Studies","Cultural Events","Campus Life","Leadership","Service","Friendships","Celebrations"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date *"}),(0,a.jsx)("input",{type:"date",id:"date",name:"date",required:!0,value:r.date,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"photographer",className:"block text-sm font-medium text-gray-700 mb-2",children:"Photographer"}),(0,a.jsx)("input",{type:"text",id:"photographer",name:"photographer",value:r.photographer,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Photographer name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,a.jsx)("input",{type:"text",id:"tags",name:"tags",value:r.tags,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., welcome, banquet, students (comma separated)"})]})]})]}),h&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Uploading photos..."}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Please wait while we process your images"})]})]}),(0,a.jsx)("div",{className:"mt-4 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsxs)(u.default,{href:"/admin",className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Cancel"]}),(0,a.jsx)("button",{type:"submit",disabled:h||0===e.length,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n,{className:"w-4 h-4 mr-2"}),"Upload Photos (",e.length,")"]})})]})]})})]})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=3720)}),_N_E=e.O()}]);