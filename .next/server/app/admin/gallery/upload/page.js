(()=>{var e={};e.id=371,e.ids=[371],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7010:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),t(1413),t(9457),t(4910),t(5866);var r=t(3191),s=t(8716),l=t(7922),o=t.n(l),i=t(5231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(a,n);let d=["",{children:["admin",{children:["gallery",{children:["upload",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1413)),"/Users/bhuvaneshmarineni/Vyosomatrix/iscf-tem/src/app/admin/gallery/upload/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9457)),"/Users/bhuvaneshmarineni/Vyosomatrix/iscf-tem/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,4910)),"/Users/bhuvaneshmarineni/Vyosomatrix/iscf-tem/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/bhuvaneshmarineni/Vyosomatrix/iscf-tem/src/app/admin/gallery/upload/page.tsx"],m="/admin/gallery/upload/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/gallery/upload/page",pathname:"/admin/gallery/upload",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8160:(e,a,t)=>{Promise.resolve().then(t.bind(t,7246))},5303:()=>{},6333:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1896:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(6557).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},7246:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h});var r=t(326),s=t(7577),l=t(6333),o=t(6557);let i=(0,o.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var n=t(1896),d=t(4019);let c=(0,o.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var m=t(434),u=t(5047);function h(){let[e,a]=(0,s.useState)([]),[t,o]=(0,s.useState)({title:"",description:"",category:"Welcome Events",date:"",photographer:"",tags:""}),[h,p]=(0,s.useState)(!1),g=(0,u.useRouter)(),x=e=>{a(a=>a.filter((a,t)=>t!==e))},b=async a=>{if(a.preventDefault(),0===e.length){alert("Please select at least one photo to upload");return}p(!0);try{let a={...t,images:e.map((e,a)=>({id:a+1,url:URL.createObjectURL(e),thumbnail:URL.createObjectURL(e),alt:`${t.title} - Image ${a+1}`,caption:`Photo from ${t.title}`}))};(await fetch("/api/gallery",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok?(alert(`Successfully uploaded ${e.length} photos!`),localStorage.setItem("admin-data-updated",Date.now().toString()),window.dispatchEvent(new CustomEvent("admin-data-updated")),g.push("/admin")):alert("Failed to upload photos")}catch(e){console.error("Error uploading photos:",e),alert("Error uploading photos")}finally{p(!1)}},y=e=>{o({...t,[e.target.name]:e.target.value})};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(m.default,{href:"/admin",className:"text-gray-600 hover:text-gray-900 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(l.Z,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Upload Photos"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add new photos to the gallery"})]})]})})})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("form",{onSubmit:b,className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx(i,{className:"w-5 h-5 mr-2"}),"Select Photos"]}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors relative",children:[r.jsx(n.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Drop photos here or click to browse"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Support for JPG, PNG, GIF up to 10MB each"})]}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{if(e.target.files){let t=Array.from(e.target.files);a(e=>[...e,...t])}},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]}),e.length>0&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:["Selected Photos (",e.length,")"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map((e,a)=>(0,r.jsxs)("div",{className:"relative group",children:[r.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:r.jsx("img",{src:URL.createObjectURL(e),alt:e.name,className:"w-full h-full object-cover"})}),r.jsx("button",{type:"button",onClick:()=>x(a),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(d.Z,{className:"w-4 h-4"})}),r.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:e.name})]},a))})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx(c,{className:"w-5 h-5 mr-2"}),"Photo Information"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Album Title *"}),r.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:t.title,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Spring Welcome Banquet 2024"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{id:"description",name:"description",rows:3,value:t.description,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the event or occasion..."})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),r.jsx("select",{id:"category",name:"category",required:!0,value:t.category,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:["Welcome Events","Bible Studies","Cultural Events","Campus Life","Leadership","Service","Friendships","Celebrations"].map(e=>r.jsx("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date *"}),r.jsx("input",{type:"date",id:"date",name:"date",required:!0,value:t.date,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"photographer",className:"block text-sm font-medium text-gray-700 mb-2",children:"Photographer"}),r.jsx("input",{type:"text",id:"photographer",name:"photographer",value:t.photographer,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Photographer name"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),r.jsx("input",{type:"text",id:"tags",name:"tags",value:t.tags,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., welcome, banquet, students (comma separated)"})]})]})]}),h&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Uploading photos..."}),r.jsx("p",{className:"text-sm text-gray-600",children:"Please wait while we process your images"})]})]}),r.jsx("div",{className:"mt-4 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsxs)(m.default,{href:"/admin",className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center",children:[r.jsx(d.Z,{className:"w-4 h-4 mr-2"}),"Cancel"]}),r.jsx("button",{type:"submit",disabled:h||0===e.length,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(i,{className:"w-4 h-4 mr-2"}),"Upload Photos (",e.length,")"]})})]})]})})]})}},1413:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/Users/bhuvaneshmarineni/Vyosomatrix/iscf-tem/src/app/admin/gallery/upload/page.tsx#default`)},9457:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l,metadata:()=>s});var r=t(9510);let s={title:"ISCF Admin - Content Management System",description:"Admin panel for managing ISCF website content"};function l({children:e}){return r.jsx("div",{className:"min-h-screen bg-gray-50",children:e})}}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[276,215,64],()=>t(7010));module.exports=r})();